<?xml version="1.0" encoding="UTF-8" ?>
<project name="HelloWorldAnt" default="build" basedir=".">
  <property name="src.dir"  value="src"/>
  <property name="test-src.dir" value="test"/>
  <path id="test.classpath">
    <pathelement location="testng-7.6.1.jar"/>
    <pathelement location="slf4j-api-1.7.36.jar"/>
    <pathelement location="slf4j-simple-1.7.36.jar"/>
    <pathelement location="jcommander-1.82.jar"/>
  </path>
  <taskdef resource="testngtasks" classpathref="test.classpath"/>
  <target name="compile" description="コンパイル">
    <echo message="コンパイルを開始します。" />
    <mkdir dir="classes"/>
    <javac destdir="classes" includeantruntime="false">
      <src path="src"/>
    </javac>
    <mkdir dir="test-classes"/>
    <javac destdir="test-classes" classpath="testng-7.6.1.jar" includeantruntime="false">
      <src path="test"/>
      <classpath refid="glover02.classpath"/>
    </javac>
  </target>
  <target name="build" depends="compile"/>
  <target name="test" depends="compile">
    <testng haltOnfailure="true">
      <classpath>
        <pathelement location="test-classes"/>
        <pathelement location="classes"/>
        <pathelement location="jcommander-1.82.jar"/>
        <pathelement location="slf4j-api-1.7.36.jar"/>
        <pathelement location="slf4j-simple-1.7.36.jar"/>
      </classpath>
      <xmlfileset dir="." includes="AllTests.xml"/>
    </testng>
  </target>
  <target name="clean" description="ビルド成果物削除">
    <delete dir="classes" />
  </target>
</project>
